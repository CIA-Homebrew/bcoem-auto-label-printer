<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Setup - BCOEM Label Utility</title>
  <link rel="shortcut icon" href="./favicon.ico">

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>

  <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>

  <script src="./setup.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">
      <img src="favicon.ico" width="30" height="30" class="d-inline-block align-top mr-2" alt="">
      BCOE&M Check In and Label Print
    </a>

    <ul class="navbar-nav mt-2 mt-lg-0 ml-auto">
      <li class="nav-item">
        <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="/setup">Setup</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/verify">Verify</a>
      </li>
    </ul>
  </nav>

  <div class="container mb-5">
    <div class="row mt-5">
      <div class="col-5">
        <h2>Instance Status</h2>
        <div>
          <ul id="instancesContainer" class="list-group list-group-flush">
          </ul>
        </div>
      </div>

      <div class='col-1'></div>

      <div class="col-5">
        <h2>Import Entries</h2>
        <button id="importEntriesButton" class="btn btn-primary">Import Entries (.xlsx)</button>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-5">
        <h2>Add BCOEM Site Instance</h2>
        
        <div class="mb-3">
          <label for="competitionUrl" class="form-label">Competition URL</label>
          <input type="text" class="form-control" id="competitionUrl" placeholder="https://mycompetition.brewcomp.com">
        </div>
        <div class="mb-3">
          <label for="qr-checkin-password" class="form-label">QR Checkin Password</label>
          <input type="password" class="form-control" id="qr-checkin-password">
        </div>
        <div class="mb-3">
          <label for="instancePrefix" class="form-label">Instance Prefix</label>
          <input type="text" class="form-control" id="instancePrefix" placeholder="Leave empty if none">
        </div>

        <button id="BcoemConnectButton" class="btn btn-primary">Connect</button>
      </div>

      <div class='col-1'></div>

      <div class="col-6">
        <h2>System Information</h2>

        <div class="mt-3 mb-5 row">
          <div class="col-3">Passphrase: </div>
          <div class="col-4">
            <div class="alert alert-info" id="currentPassphrase" role="alert">&nbsp;</div>
          </div>
          <div class="col-5">
            <button id="setSystemPassphrase" class="btn btn-danger">Set Passphrase</button>
          </div>
        </div>

        <div class="mt-3 mb-5 row">
          <div class="col-3">System ID: </div>
          <div class="col-4">
            <div class="alert alert-info" id="currentSystemId" role="alert"></div>
          </div>
          <div class="col-5">
            <button id="resetSystemIdButton" class="btn btn-danger">Set System ID</button>
          </div>
        </div>

        <div class="mt-3 mb-5 row">
          <div class="col-3">Counter: </div>
          <div class="col-4">
            <div class="alert alert-info" id="currentCounterVal" role="alert"></div>
          </div>
          <div class="col-5">
            <button id="resetCounterButton" class="btn btn-danger">Set Counter</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="uploadFileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Upload Entries</h5>
        </div>
        <div class="modal-body">
          <input type="text" name="uploadFileModalInstancePrefix" id="uploadFileModalInstancePrefix">
          <input type="file" id="entryFileUpload" accept=".xls,.xlsx,.xlsm,.ods"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</body>